<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼˜åŒ–åŠŸæ³•ç•Œé¢æµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e);
            color: white;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 10px;
            border: 2px solid #4a90e2;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            background: linear-gradient(45deg, #FFD700, #50E3C2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .header p {
            margin: 10px 0 0 0;
            color: #B8E986;
            font-size: 1.2em;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .feature-card {
            background: rgba(22, 33, 62, 0.8);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #50E3C2;
            box-shadow: 0 10px 20px rgba(80, 227, 194, 0.2);
        }
        
        .feature-card h3 {
            margin: 0 0 10px 0;
            color: #FFD700;
            font-size: 1.3em;
        }
        
        .feature-card ul {
            margin: 0;
            padding-left: 20px;
            color: #E8E8E8;
        }
        
        .feature-card li {
            margin: 5px 0;
        }
        
        #game-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            border: 3px solid #4a90e2;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(74, 144, 226, 0.3);
        }
        
        .controls {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(16, 21, 35, 0.9);
            border-radius: 10px;
        }
        
        .control-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        .keyboard-hints {
            background: rgba(15, 15, 35, 0.9);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid #4a90e2;
        }
        
        .keyboard-hints h4 {
            margin: 0 0 10px 0;
            color: #50E3C2;
        }
        
        .keyboard-hints .key {
            display: inline-block;
            background: #333;
            color: #FFD700;
            padding: 3px 8px;
            border-radius: 4px;
            margin: 2px;
            font-family: monospace;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ“š æ•°å­¦åŠŸæ³•ç§˜ç± - ä¼˜åŒ–ç‰ˆ</h1>
        <p>å…¨æ–°è®¾è®¡çš„åŠŸæ³•ç•Œé¢ï¼Œæä¾›æ›´å¥½çš„å­¦ä¹ ä½“éªŒ</p>
    </div>
    
    <div class="features">
        <div class="feature-card">
            <h3>ğŸ¨ è§†è§‰ä¼˜åŒ–</h3>
            <ul>
                <li>åŠ¨æ€æ¸å˜èƒŒæ™¯</li>
                <li>æ•°å­¦ç¬¦å·ç²’å­æ•ˆæœ</li>
                <li>ç°ä»£åŒ–UIè®¾è®¡</li>
                <li>æµç•…çš„åŠ¨ç”»è¿‡æ¸¡</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ“– å†…å®¹ä¸°å¯Œ</h3>
            <ul>
                <li>4å¤§çŸ¥è¯†åˆ†ç±»</li>
                <li>è¯¦ç»†çš„åŸç†è§£é‡Š</li>
                <li>å®ä¾‹æ¼”ç¤º</li>
                <li>ä¿®ç‚¼æŠ€å·§æç¤º</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ® äº¤äº’ä½“éªŒ</h3>
            <ul>
                <li>é”®ç›˜å¿«æ·é”®æ”¯æŒ</li>
                <li>é¼ æ ‡æ‚¬åœæ•ˆæœ</li>
                <li>åˆ†ç±»æ ‡ç­¾å¯¼èˆª</li>
                <li>æ™ºèƒ½å†…å®¹å¸ƒå±€</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>ğŸ”§ åŠŸèƒ½ç‰¹æ€§</h3>
            <ul>
                <li>ä¾§è¾¹æ åˆ†ç±»å¯¼èˆª</li>
                <li>ä¸»é¢˜æ ‡ç­¾åˆ‡æ¢</li>
                <li>å…¬å¼é«˜äº®æ˜¾ç¤º</li>
                <li>ç»ƒä¹ é¢˜ç›®é›†æˆ</li>
            </ul>
        </div>
    </div>
    
    <div class="controls">
        <button class="control-btn" onclick="startGuide()">ğŸš€ å¯åŠ¨åŠŸæ³•ç•Œé¢</button>
        <button class="control-btn" onclick="restartGuide()">ğŸ”„ é‡æ–°å¯åŠ¨</button>
        <button class="control-btn" onclick="showDemo()">ğŸ“º æ¼”ç¤ºæ¨¡å¼</button>
    </div>
    
    <div id="game-container"></div>
    
    <div class="keyboard-hints">
        <h4>âŒ¨ï¸ é”®ç›˜æ“ä½œæŒ‡å—</h4>
        <p>
            <span class="key">â†‘</span><span class="key">â†“</span> åˆ‡æ¢åˆ†ç±» â€¢
            <span class="key">â†</span><span class="key">â†’</span> åˆ‡æ¢ä¸»é¢˜ â€¢
            <span class="key">ESC</span> é€€å‡ºç•Œé¢ â€¢
            <span class="key">Space</span> æ”¶è—åŠŸèƒ½
        </p>
    </div>
    
    <!-- Phaser.js ä» CDN åŠ è½½ -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>
    
    <!-- é”™è¯¯å¤„ç† -->
    <script>
        window.addEventListener('error', function(e) {
            console.error('å…¨å±€é”™è¯¯:', e);
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = 'background: #ff6b6b; color: white; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 5px solid #d63031;';
            errorDiv.innerHTML = `
                <strong>âš ï¸ é”™è¯¯:</strong> ${e.message}<br>
                <small>ğŸ“ æ–‡ä»¶: ${e.filename}:${e.lineno}</small><br>
                <small>ğŸ’¡ è¯·æ£€æŸ¥æ§åˆ¶å°è·å–è¯¦ç»†ä¿¡æ¯</small>
            `;
            document.body.insertBefore(errorDiv, document.getElementById('game-container'));
        });
    </script>
    
    <!-- æ¸¸æˆåˆå§‹åŒ– -->
    <script type="module">
        import { GuideScene } from './src/scenes/GuideScene.js';
        
        // å…¨å±€æ¸¸æˆæ•°æ®
        window.gameData = {
            player: {
                realmLevel: 3,
                name: 'æµ‹è¯•ä¿®ç‚¼è€…'
            },
            settings: {
                soundEnabled: true,
                musicEnabled: true
            }
        };
        
        // æ¸¸æˆé…ç½®
        const config = {
            type: Phaser.AUTO,
            width: 1200,
            height: 800,
            parent: 'game-container',
            backgroundColor: '#0f0f23',
            scene: [GuideScene],
            scale: {
                mode: Phaser.Scale.FIT,
                autoCenter: Phaser.Scale.CENTER_BOTH
            },
            render: {
                antialias: true,
                pixelArt: false
            }
        };
        
        let game = null;
        let demoMode = false;
        
        // å¯åŠ¨åŠŸæ³•ç•Œé¢
        window.startGuide = function() {
            console.log('å¯åŠ¨åŠŸæ³•ç•Œé¢...');
            
            if (game) {
                game.destroy(true);
            }
            
            try {
                game = new Phaser.Game(config);
                
                game.events.once('ready', function() {
                    console.log('æ¸¸æˆå‡†å¤‡å°±ç»ª');
                    
                    setTimeout(() => {
                        try {
                            game.scene.start('GuideScene');
                            console.log('âœ“ GuideScene å¯åŠ¨æˆåŠŸ');
                        } catch (err) {
                            console.error('âœ— GuideScene å¯åŠ¨å¤±è´¥:', err);
                        }
                    }, 500);
                });
                
            } catch (error) {
                console.error('âœ— æ¸¸æˆåˆ›å»ºå¤±è´¥:', error);
            }
        };
        
        // é‡æ–°å¯åŠ¨
        window.restartGuide = function() {
            console.log('é‡æ–°å¯åŠ¨åŠŸæ³•ç•Œé¢...');
            if (game) {
                game.scene.restart('GuideScene');
            } else {
                startGuide();
            }
        };
        
        // æ¼”ç¤ºæ¨¡å¼
        window.showDemo = function() {
            console.log('å¯åŠ¨æ¼”ç¤ºæ¨¡å¼...');
            demoMode = true;
            startGuide();
            
            // è‡ªåŠ¨æ¼”ç¤ºå¯¼èˆª
            setTimeout(() => {
                if (game && game.scene.getScene('GuideScene')) {
                    const scene = game.scene.getScene('GuideScene');
                    
                    // æ¨¡æ‹Ÿé”®ç›˜æ“ä½œæ¼”ç¤º
                    let demoStep = 0;
                    const demoSteps = [
                        () => scene.selectCategory(1), // ä»£æ•°å¥¥ä¹‰
                        () => scene.selectCategory(2), // å‡ ä½•ç§˜æ³•
                        () => scene.selectCategory(3), // å‡½æ•°ç¥é€š
                        () => scene.selectCategory(0)  // å›åˆ°åŸºç¡€è¿ç®—
                    ];
                    
                    const runDemo = () => {
                        if (demoStep < demoSteps.length && demoMode) {
                            demoSteps[demoStep]();
                            demoStep++;
                            setTimeout(runDemo, 3000);
                        }
                    };
                    
                    setTimeout(runDemo, 2000);
                }
            }, 1000);
        };
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨å¯åŠ¨
        window.addEventListener('load', function() {
            setTimeout(() => {
                console.log('è‡ªåŠ¨å¯åŠ¨åŠŸæ³•ç•Œé¢...');
                startGuide();
            }, 1000);
        });
        
        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case 'F5':
                    e.preventDefault();
                    restartGuide();
                    break;
                case 'F1':
                    e.preventDefault();
                    showDemo();
                    break;
                case 'Escape':
                    demoMode = false;
                    break;
            }
        });
    </script>
</body>
</html>
</content>
</invoke>