<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨æ€å‡½æ•°å›¾å½¢æµ‹è¯• - æ•°é“ä»™é€”</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e, #2d1b4e);
            color: white;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }
        
        #game-container {
            width: 1200px;
            height: 800px;
            margin: 0 auto;
            border: 2px solid #667eea;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .info {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .test-info {
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .feature-item {
            background: rgba(102, 126, 234, 0.2);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .feature-item h3 {
            margin: 0 0 10px 0;
            color: #FFD700;
            font-size: 18px;
        }
        
        .feature-item ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .feature-item li {
            margin: 5px 0;
            font-size: 14px;
        }
        
        .highlight {
            color: #50e3c2;
            font-weight: bold;
        }
        
        .controls-demo {
            background: rgba(255, 107, 107, 0.2);
            border-left-color: #FF6B6B;
        }
        
        .animation-demo {
            background: rgba(80, 227, 194, 0.2);
            border-left-color: #50e3c2;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>ğŸ¨ åŠ¨æ€å‡½æ•°å›¾å½¢æµ‹è¯•</h1>
        <p>æµ‹è¯•æ–°å¢çš„åŠ¨æ€å‡½æ•°å›¾å½¢åŠŸèƒ½</p>
    </div>
    
    <div class="test-info">
        <h2>ğŸš€ æ–°å¢åŠ¨æ€åŠŸèƒ½</h2>
        <div class="feature-grid">
            <div class="feature-item animation-demo">
                <h3>âš¡ åŠ¨æ€åŠ¨ç”»æ•ˆæœ</h3>
                <ul>
                    <li><span class="highlight">å®æ—¶åŠ¨ç”»</span>ï¼šå‡½æ•°å›¾å½¢æŒç»­åŠ¨æ€å˜åŒ–</li>
                    <li><span class="highlight">è½¨è¿¹æ•ˆæœ</span>ï¼šæ˜¾ç¤ºå‡½æ•°å˜åŒ–çš„å†å²è½¨è¿¹</li>
                    <li><span class="highlight">å‘å…‰ç‚¹</span>ï¼šå…³é”®ä½ç½®çš„åŠ¨æ€äº®ç‚¹</li>
                    <li><span class="highlight">ç›¸ä½åç§»</span>ï¼šæ—¶é—´é©±åŠ¨çš„å‡½æ•°ç›¸ä½å˜åŒ–</li>
                </ul>
            </div>
            
            <div class="feature-item controls-demo">
                <h3>ğŸ›ï¸ åŠ¨ç”»æ§åˆ¶</h3>
                <ul>
                    <li><span class="highlight">æ’­æ”¾/æš‚åœ</span>ï¼šâ¸ï¸ æš‚åœ / â–¶ï¸ æ’­æ”¾åˆ‡æ¢</li>
                    <li><span class="highlight">é€Ÿåº¦è°ƒèŠ‚</span>ï¼š0.5x / 1.0x / 2.0x ä¸‰æ¡£é€Ÿåº¦</li>
                    <li><span class="highlight">å®æ—¶å‚æ•°</span>ï¼šæŒ¯å¹…å’Œé¢‘ç‡å®æ—¶è°ƒèŠ‚</li>
                    <li><span class="highlight">æ™ºèƒ½æ ‡ç­¾</span>ï¼šæ˜¾ç¤ºå½“å‰åŠ¨æ€/é™æ€çŠ¶æ€</li>
                </ul>
            </div>
            
            <div class="feature-item">
                <h3>ğŸ“ˆ æ”¯æŒçš„åŠ¨æ€å‡½æ•°</h3>
                <ul>
                    <li><span class="highlight">sin(x)</span> - æ­£å¼¦æ³¢åŠ¨ç”»</li>
                    <li><span class="highlight">cos(x)</span> - ä½™å¼¦æ³¢åŠ¨ç”»</li>
                    <li><span class="highlight">sin(x) * cos(x)</span> - å¤åˆæ³¢æµª</li>
                    <li><span class="highlight">x * sin(x)</span> - èºæ—‹åŠ¨ç”»</li>
                    <li><span class="highlight">sin(x) + cos(2*x)</span> - å¤æ‚æ³¢å½¢</li>
                </ul>
            </div>
            
            <div class="feature-item">
                <h3>ğŸ¯ è§†è§‰æ•ˆæœ</h3>
                <ul>
                    <li><span class="highlight">ç½‘æ ¼èƒŒæ™¯</span>ï¼š50pxç²¾ç¡®ç½‘æ ¼</li>
                    <li><span class="highlight">åæ ‡è½´</span>ï¼šæ¸…æ™°çš„X/Yè½´æ˜¾ç¤º</li>
                    <li><span class="highlight">å¤šå±‚è½¨è¿¹</span>ï¼š3å±‚é€æ˜åº¦é€’å‡è½¨è¿¹</li>
                    <li><span class="highlight">åŠ¨æ€æ ‡ç­¾</span>ï¼šå®æ—¶çŠ¶æ€æ˜¾ç¤º</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div id="loading" style="text-align: center; color: #50e3c2; font-size: 18px; margin: 20px;">
        æ­£åœ¨åŠ è½½åŠ¨æ€å‡½æ•°å›¾å½¢ç³»ç»Ÿ...
    </div>
    
    <div id="game-container"></div>
    
    <div class="test-info" style="margin-top: 20px;">
        <h2>ğŸ§ª æµ‹è¯•æ­¥éª¤</h2>
        <ol>
            <li><strong>åŸºç¡€æµ‹è¯•</strong>ï¼šè§‚å¯Ÿé»˜è®¤sin(x)å‡½æ•°çš„åŠ¨æ€æ•ˆæœ</li>
            <li><strong>å‡½æ•°åˆ‡æ¢</strong>ï¼šç‚¹å‡»ä¸åŒé¢„è®¾å‡½æ•°ï¼Œè§‚å¯ŸåŠ¨ç”»å˜åŒ–</li>
            <li><strong>å‚æ•°è°ƒèŠ‚</strong>ï¼šè°ƒæ•´æŒ¯å¹…(0.5/1.0/2.0)å’Œé¢‘ç‡(0.5/1.0/2.0)</li>
            <li><strong>åŠ¨ç”»æ§åˆ¶</strong>ï¼šæµ‹è¯•æš‚åœ/æ’­æ”¾åŠŸèƒ½</li>
            <li><strong>é€Ÿåº¦è°ƒèŠ‚</strong>ï¼šæµ‹è¯•0.5xã€1.0xã€2.0xä¸‰ç§é€Ÿåº¦</li>
            <li><strong>è§†è§‰æ•ˆæœ</strong>ï¼šè§‚å¯Ÿè½¨è¿¹æ•ˆæœå’Œå‘å…‰ç‚¹åŠ¨ç”»</li>
        </ol>
        
        <h3>ğŸ” é‡ç‚¹è§‚å¯Ÿ</h3>
        <ul>
            <li><span class="highlight">æµç•…æ€§</span>ï¼šåŠ¨ç”»æ˜¯å¦å¹³æ»‘æµç•…ï¼ˆ20 FPSï¼‰</li>
            <li><span class="highlight">è½¨è¿¹æ•ˆæœ</span>ï¼šæ˜¯å¦æ˜¾ç¤ºæ·¡åŒ–çš„å†å²è½¨è¿¹</li>
            <li><span class="highlight">å‘å…‰ç‚¹</span>ï¼šå…³é”®ä½ç½®æ˜¯å¦æœ‰åŠ¨æ€äº®ç‚¹</li>
            <li><span class="highlight">å“åº”æ€§</span>ï¼šå‚æ•°è°ƒèŠ‚æ˜¯å¦å®æ—¶ç”Ÿæ•ˆ</li>
            <li><span class="highlight">çŠ¶æ€åˆ‡æ¢</span>ï¼šæ’­æ”¾/æš‚åœåˆ‡æ¢æ˜¯å¦æ­£å¸¸</li>
        </ul>
    </div>

    <!-- Phaser.js ä» CDN åŠ è½½ -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>
    
    <!-- å¤‡ç”¨ CDN -->
    <script>
        if (typeof Phaser === 'undefined') {
            console.log('ä¸» CDN å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨ CDN...');
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/phaser/3.80.1/phaser.min.js';
            script.onload = function() {
                console.log('âœ“ å¤‡ç”¨ CDN åŠ è½½æˆåŠŸ');
            };
            script.onerror = function() {
                console.error('âœ— æ‰€æœ‰ CDN éƒ½å¤±è´¥äº†');
                document.getElementById('loading').innerHTML = 'âŒ Phaser.js åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';
            };
            document.head.appendChild(script);
        }
    </script>
    
    <!-- æ¸¸æˆä¸»æ–‡ä»¶ -->
    <script type="module">
        // ç›´æ¥å¯åŠ¨ MathArtStudioScene å¹¶åˆ‡æ¢åˆ°å‡½æ•°æ¨¡å¼
        import { MathArtStudioScene } from './src/scenes/MathArtStudioScene.js';
        
        // ç­‰å¾… Phaser åŠ è½½
        function waitForPhaser() {
            if (typeof Phaser !== 'undefined') {
                initDynamicFunctionTest();
            } else {
                setTimeout(waitForPhaser, 100);
            }
        }
        
        function initDynamicFunctionTest() {
            console.log('åˆå§‹åŒ–åŠ¨æ€å‡½æ•°å›¾å½¢æµ‹è¯•...');
            
            // åˆå§‹åŒ–å…¨å±€æ¸¸æˆæ•°æ®
            window.gameData = {
                player: {
                    realm: 'ç‚¼æ°”',
                    realmLevel: 1,
                    exp: 100
                }
            };
            
            const config = {
                type: Phaser.AUTO,
                width: 1200,
                height: 800,
                parent: 'game-container',
                backgroundColor: '#1a1a2e',
                scene: [MathArtStudioScene],
                scale: {
                    mode: Phaser.Scale.FIT,
                    autoCenter: Phaser.Scale.CENTER_BOTH
                }
            };
            
            const game = new Phaser.Game(config);
            
            game.events.once('ready', () => {
                console.log('âœ“ åŠ¨æ€å‡½æ•°å›¾å½¢æµ‹è¯•å¯åŠ¨æˆåŠŸ');
                document.getElementById('loading').style.display = 'none';
                
                // è‡ªåŠ¨æç¤ºç”¨æˆ·æµ‹è¯•åŠ¨æ€åŠŸèƒ½
                setTimeout(() => {
                    console.log('ğŸ’¡ æç¤ºï¼šç‚¹å‡»å·¦ä¾§æ§åˆ¶é¢æ¿ä¸­çš„å‡½æ•°æŒ‰é’®å’ŒåŠ¨ç”»æ§åˆ¶æ¥æµ‹è¯•åŠ¨æ€æ•ˆæœï¼');
                }, 2000);
            });
        }
        
        waitForPhaser();
    </script>
</body>
</html>